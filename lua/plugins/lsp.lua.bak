return {
	{'neovim/nvim-lspconfig', name = 'lspconfig',
		requires = {'hrsh7th/cmp-nvim-lsp', {'folke/neodev.nvim', opts = {}}},
		config = function()
			local servers = {
				'clangd','rust_analyzer','pylsp','cmake',
				'texlab','jsonls','lua_ls','vimls'
			}
			local lspconfig = require('lspconfig')
			local cmp_lsp = require('cmp_nvim_lsp')

			--Set up default capabilities
			local lsp_defaults = lspconfig.util.default_config
			lsp_defaults.capabilities = vim.tbl_deep_extend(
				'force',
				lsp_defaults.capabilities,
				cmp_lsp.default_capabilities()
			)
			for _, lsp in ipairs(servers) do
				lspconfig[lsp].setup({
					capabilities = lsp_defaults.capabilities
					--on_attach = function(client,bufnr) vim.api.nvim_buf_set_option(bufnr, 'omnifunc', 'v:lua.vim.lsp.omnifunc')
				})
			end
		end
	}
}
